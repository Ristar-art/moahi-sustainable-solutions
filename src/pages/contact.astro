---
// src/pages/contact.astro
import BaseLayout from '../layouts/BaseLayout.astro';

const pageTitle = "Contact Us - Moahi Sustainable Solutions";
const pageDescription = "Contact Moahi Sustainable Solutions for ESG audits, IRMA certification, stakeholder engagement, and sustainability consulting services across Africa.";

const contactInfo = [
    {
        icon: "üè¢",
        title: "Johannesburg Office",
        subtitle: "Head Office",
        details: [
            "üìç [Address to be provided]",
            "üìû [Phone to be provided]",
            "üìß info@moahisustainable.co.za"
        ]
    },
    {
        icon: "üåä",
        title: "Cape Town Office",
        subtitle: "Regional Office",
        details: [
            "üìç [Address to be provided]",
            "üìû [Phone to be provided]",
            "üìß capetown@moahisustainable.co.za"
        ]
    },
    {
        icon: "üåç",
        title: "Regional Coverage",
        subtitle: "Africa-wide Service",
        details: [
            "We serve clients across Southern, East, and West Africa through our network of local partners and associates."
        ]
    }
];

const responseTimes = [
    { icon: "üïê", text: "General inquiries: Within 24 hours" },
    { icon: "‚ö°", text: "Urgent ESG support: Within 4 hours" },
    { icon: "üìÖ", text: "Consultation booking: Within 2 business days" },
    { icon: "üìã", text: "Proposal requests: Within 5 business days" }
];

const whyChooseUs = [
    "African Expertise: Deep understanding of local contexts and challenges",
    "International Standards: Certified experts in ISO, IRMA, King IV",
    "Ubuntu Philosophy: Community-centered approach to sustainability",
    "Proven Results: 150+ successful projects across Africa",
    "Multi-sector Experience: Mining, energy, agriculture, municipal",
    "Rapid Response: Urgent support available within 4 hours"
];

const industries = [
    "mining", "energy", "agriculture", "manufacturing", "infrastructure", 
    "municipal", "financial", "consulting", "academic", "ngo", "other"
];

const regions = [
    "south-africa", "botswana", "namibia", "zimbabwe", "zambia", "kenya", 
    "tanzania", "uganda", "ghana", "nigeria", "morocco", "egypt", 
    "other-africa", "international"
];

const inquiryTypes = [
    "esg-audit", "irma-certification", "stakeholder-engagement", "training", 
    "advisory", "research", "partnership", "speaking", "media", "career", "other"
];

const budgetRanges = [
    "under-50k", "50k-200k", "200k-500k", "500k-1m", "1m-plus", "discuss"
];

const timelines = [
    "immediate", "1-3-months", "3-6-months", "6-12-months", "planning"
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
    <!-- Page Hero -->
    <section class="page-hero">
        <div class="container">
            <h1>Get In Touch</h1>
            <p>Ready to start your sustainability journey? Contact us for a consultation tailored to your specific needs and African context.</p>
        </div>
    </section>

    <div class="container">
        <!-- Contact Information -->
        <div class="section-header animate-on-scroll">
            <h2>Contact Information</h2>
            <p>Reach out to our experts across Africa</p>
        </div>

        <div class="contact-info-grid">
            {contactInfo.map((info) => (
                <div class="contact-info-card animate-on-scroll">
                    <div class="icon">{info.icon}</div>
                    <h4>{info.title}</h4>
                    <p><strong>{info.subtitle}</strong></p>
                    {info.details.map((detail) => (
                        <p set:html={detail}></p>
                    ))}
                </div>
            ))}
        </div>

        <div class="response-times">
            <h4>Response Times</h4>
            <ul>
                {responseTimes.map((time) => (
                    <li data-icon={time.icon}>{time.text}</li>
                ))}
            </ul>
        </div>
        
        <div class="two-column">
            <div>
                <h3>Why Choose Moahi?</h3>
                <ul>
                    {whyChooseUs.map((reason) => (
                        <li>‚úì <strong>{reason.split(': ')[0]}:</strong> {reason.split(': ')[1]}</li>
                    ))}
                </ul>
            </div>
            
            <div class="column-image">
                <img src="https://picsum.photos/500/300?random=23" alt="African office environment" loading="lazy">
            </div>
        </div>
        
        <div class="contact-form">
            <h3>Send Us a Message</h3>
            <p>All fields marked with * are required. We'll respond within 24 hours with personalized recommendations.</p>
            
            <form id="contactForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="+27 XX XXX XXXX">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="job-title">Job Title</label>
                        <input type="text" id="job-title" name="job-title" placeholder="e.g., Sustainability Manager, CEO, ESG Director">
                    </div>
                    
                    <div class="form-group">
                        <label for="organization">Organization</label>
                        <input type="text" id="organization" name="organization" placeholder="Company/Organization Name">
                    </div>
                    
                    <div class="form-group">
                        <label for="industry-contact">Industry</label>
                        <select id="industry-contact" name="industry-contact">
                            <option value="">Select Industry</option>
                            <option value="mining">Mining & Extractives</option>
                            <option value="energy">Energy & Utilities</option>
                            <option value="agriculture">Agriculture & Food</option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="infrastructure">Infrastructure & Construction</option>
                            <option value="municipal">Municipal/Government</option>
                            <option value="financial">Financial Services</option>
                            <option value="consulting">Consulting</option>
                            <option value="academic">Academic/Research</option>
                            <option value="ngo">NGO/Development</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="region">Region</label>
                        <select id="region" name="region">
                            <option value="">Select Region</option>
                            <option value="south-africa">South Africa</option>
                            <option value="botswana">Botswana</option>
                            <option value="namibia">Namibia</option>
                            <option value="zimbabwe">Zimbabwe</option>
                            <option value="zambia">Zambia</option>
                            <option value="kenya">Kenya</option>
                            <option value="tanzania">Tanzania</option>
                            <option value="uganda">Uganda</option>
                            <option value="ghana">Ghana</option>
                            <option value="nigeria">Nigeria</option>
                            <option value="morocco">Morocco</option>
                            <option value="egypt">Egypt</option>
                            <option value="other-africa">Other African Country</option>
                            <option value="international">International</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="inquiry-type">Type of Inquiry *</label>
                        <select id="inquiry-type" name="inquiry-type" required>
                            <option value="">Select Inquiry Type</option>
                            <option value="esg-audit">ESG Audit & Compliance Assessment</option>
                            <option value="irma-certification">IRMA Certification Support</option>
                            <option value="stakeholder-engagement">Stakeholder Engagement & SLP</option>
                            <option value="training">Training & Capacity Building</option>
                            <option value="advisory">Strategic Advisory Services</option>
                            <option value="research">Research & Thought Leadership</option>
                            <option value="partnership">Partnership Opportunity</option>
                            <option value="speaking">Speaking Engagement</option>
                            <option value="media">Media Inquiry</option>
                            <option value="career">Career Opportunities</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="budget-range">Estimated Budget Range (Optional)</label>
                    <select id="budget-range" name="budget-range">
                        <option value="">Select Budget Range</option>
                        <option value="under-50k">Under R50,000</option>
                        <option value="50k-200k">R50,000 - R200,000</option>
                        <option value="200k-500k">R200,000 - R500,000</option>
                        <option value="500k-1m">R500,000 - R1,000,000</option>
                        <option value="1m-plus">Over R1,000,000</option>
                        <option value="discuss">Prefer to discuss</option>
                    </select>
                </div>
                
                <div class="form-group full-width">
                    <label for="timeline-contact">Desired Timeline</label>
                    <select id="timeline-contact" name="timeline-contact">
                        <option value="">Select Timeline</option>
                        <option value="immediate">Immediate (This month)</option>
                        <option value="1-3-months">1-3 months</option>
                        <option value="3-6-months">3-6 months</option>
                        <option value="6-12-months">6-12 months</option>
                        <option value="planning">Planning for future</option>
                    </select>
                </div>
                
                <div class="form-group full-width">
                    <label for="message">Detailed Message *</label>
                    <textarea id="message" name="message" rows="6" required placeholder="Please describe your specific needs, challenges, and how we can help. Include any relevant background information about your organization and sustainability goals."></textarea>
                </div>
                
                <div class="form-group full-width">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="newsletter" name="newsletter" style="width: auto;">
                        Subscribe to our monthly ESG insights newsletter
                    </label>
                </div>
                
                <div class="form-group full-width">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="privacy" name="privacy" required style="width: auto;">
                        I agree to the <a href="/privacy-policy" style="color: var(--ochre);">Privacy Policy</a> and understand that my information will be processed in accordance with POPIA *
                    </label>
                </div>
                
                <div class="form-group full-width">
                    <button type="submit" class="btn btn-primary">Send Message & Request Consultation</button>
                </div>
                
                <div id="successMessage" class="success-message">
                    <p>Thank you for your message! We'll respond within 24 hours with personalized recommendations.</p>
                </div>
            </form>
        </div>
    </div>
</BaseLayout>

<style>
    .page-hero {
        background: linear-gradient(135deg, var(--charcoal), var(--deep-red));
        color: white;
        padding: 6rem 0 4rem;
        text-align: center;
    }

    .page-hero h1 {
        color: white;
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .page-hero p {
        font-size: 1.2rem;
        color: rgba(255,255,255,0.9);
        max-width: 600px;
        margin: 0 auto;
    }

    .contact-info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
    }

    .contact-info-card {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        text-align: center;
        border-left: 4px solid var(--ochre);
        transition: transform 0.3s ease;
    }

    .contact-info-card:hover {
        transform: translateY(-2px);
    }

    .contact-info-card h4 {
        color: var(--deep-red);
        margin-bottom: 1rem;
    }

    .contact-info-card .icon {
        font-size: 2rem;
        margin-bottom: 1rem;
        color: var(--ochre);
    }

    .response-times {
        background: var(--sage-green);
        color: white;
        padding: 2rem;
        border-radius: 10px;
        margin: 2rem 0;
    }

    .response-times h4 {
        color: white;
        margin-bottom: 1rem;
    }

    .response-times ul {
        list-style: none;
        padding: 0;
    }

    .response-times ul li {
        padding: 0.5rem 0;
        color: rgba(255,255,255,0.9);
    }

    .response-times ul li:before {
        content: attr(data-icon);
        margin-right: 0.5rem;
    }

    .contact-form {
        background: white;
        padding: 3rem;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-top: 2rem;
    }

    .contact-form h3 {
        color: var(--deep-red);
        margin-bottom: 1rem;
    }

    .success-message {
        background: var(--sage-green);
        color: white;
        padding: 1rem 2rem;
        border-radius: 8px;
        margin-top: 1rem;
        display: none;
    }

    .success-message p {
        margin: 0;
        color: white;
    }

    @media (max-width: 768px) {
        .page-hero h1 {
            font-size: 2rem;
        }

        .contact-form {
            padding: 2rem 1rem;
        }

        .contact-info-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Contact form functionality
        const contactForm = document.getElementById('contactForm');
        
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const inquiryType = formData.get('inquiry-type');
            const organization = formData.get('organization');
            const timeline = formData.get('timeline-contact');
            
            // Simulate form processing
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            submitButton.textContent = 'Sending Message...';
            submitButton.disabled = true;
            
            setTimeout(() => {
                let responseMessage = `Thank you for your ${inquiryType} inquiry! `;
                
                if (timeline === 'immediate') {
                    responseMessage += 'Given your urgent timeline, our team will contact you within 4 hours. ';
                } else {
                    responseMessage += 'We will respond within 24 hours with personalized recommendations. ';
                }
                
                if (organization) {
                    responseMessage += `We look forward to supporting ${organization}'s sustainability journey.`;
                } else {
                    responseMessage += 'We look forward to supporting your sustainability journey.';
                }
                
                const successMessage = document.getElementById('successMessage');
                successMessage.querySelector('p').textContent = responseMessage;
                successMessage.style.display = 'block';
                
                // Reset form
                this.reset();
                submitButton.textContent = originalText;
                submitButton.disabled = false;
                
                // Scroll to success message
                successMessage.scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        });
    });
</script>