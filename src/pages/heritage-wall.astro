---
// src/pages/heritage-wall.astro
import BaseLayout from '../layouts/BaseLayout.astro';

const pageTitle = "Heritage Wall - Moahi Sustainable Solutions";
const pageDescription = "Voices of African Sustainability - Share your thoughts on African heritage and sustainability. A digital collage of wisdom, innovation, and inspiration from across the continent.";

const ubuntuPrinciples = [
    {
        title: "Interconnectedness",
        description: "Recognizing that all life is connected - what affects one, affects all. This principle guides holistic approaches to sustainability."
    },
    {
        title: "Community First",
        description: "Prioritizing collective well-being over individual gain. Sustainable solutions must benefit the entire community."
    },
    {
        title: "Shared Responsibility",
        description: "Everyone has a role in caring for our common future. Sustainability is a collective responsibility."
    },
    {
        title: "Wisdom of Elders",
        description: "Traditional knowledge and practices offer proven solutions for living in harmony with nature."
    }
];

const featuredVoices = [
    {
        quote: "African sustainability innovation happens when we combine ancestral wisdom with cutting-edge technology. The baobab tree stores water for drought seasons - our businesses must learn to do the same with resources and community relationships.",
        author: "Dr. Nomsa Mbeki",
        role: "Environmental Scientist & Community Leader",
        location: "Limpopo, South Africa",
        image: "https://picsum.photos/50/50?random=30"
    },
    {
        quote: "In our language, we don't have a word for 'sustainability' because it was simply how we lived. Every decision considered seven generations ahead. Modern ESG frameworks are rediscovering what our grandmothers always knew.",
        author: "Chief Amara Okafor",
        role: "Traditional Leader & Sustainability Advocate",
        location: "Lagos, Nigeria",
        image: "https://picsum.photos/50/50?random=31"
    },
    {
        quote: "Youth are not just stakeholders in sustainability - we are the architects of Africa's green future. Give us the tools, respect our innovation, and watch us transform this continent.",
        author: "Thandiwe Dlamini",
        role: "Climate Activist & Green Tech Entrepreneur",
        location: "eSwatini",
        image: "https://picsum.photos/50/50?random=32"
    }
];

const heritageMessages = [
    {
        message: "Ubuntu teaches us that sustainability is not just about the environment, but about the interconnectedness of all life. When we care for the earth, we care for each other.",
        author: "Nomsa Mbeki",
        location: "Community Leader, Limpopo"
    },
    {
        message: "Our ancestors lived in harmony with nature for thousands of years. Modern business must learn from this wisdom to build a sustainable future.",
        author: "Dr. Kwame Asante",
        location: "Mining Executive, Ghana"
    },
    {
        message: "African solutions for African challenges - that's how we build a sustainable future. We have the knowledge, we need the platform to share it.",
        author: "Fatima Al-Rashid",
        location: "ESG Consultant, Morocco"
    },
    {
        message: "The baobab tree stands for thousands of years because its roots run deep and wide. Our sustainability strategies must be the same - deeply rooted and broadly connected.",
        author: "Joseph Wanjiku",
        location: "Agricultural Specialist, Kenya"
    },
    {
        message: "Traditional mining cooperatives in my region practice responsible extraction without formal ESG frameworks. Indigenous knowledge is ESG in action.",
        author: "Amara Touré",
        location: "Community Development Officer, Mali"
    },
    {
        message: "Youth are not just the future - we are the present. African sustainability innovation happens when we combine ancestral wisdom with digital-age solutions.",
        author: "Thandiwe Dlamini",
        location: "Climate Activist, eSwatini"
    },
    {
        message: "In Swahili, we say 'Harambee' - let's work together. Sustainability is the ultimate harambee - requiring all of us working together for our common future.",
        author: "Grace Mwangi",
        location: "Social Development Manager, Tanzania"
    },
    {
        message: "The concept of 'enough' exists in every African language. Sustainability is about returning to this wisdom of sufficiency and balance.",
        author: "Prof. Adebayo Olukoya",
        location: "Academic, Nigeria"
    },
    {
        message: "My grandmother taught me to never take more than the earth can give back. This simple principle guides all my sustainability work today.",
        author: "Naledi Mokwena",
        location: "Environmental Lawyer, Botswana"
    },
    {
        message: "African women have been sustainability leaders for generations - managing resources, nurturing communities. It's time we lead the ESG conversation too.",
        author: "Aisha Hassan",
        location: "Women's Cooperative Leader, Sudan"
    },
    {
        message: "The mining industry transformed our community. Now we must ensure it transforms responsibly, honoring both tradition and progress.",
        author: "Sipho Ndlovu",
        location: "Traditional Authority Representative, South Africa"
    },
    {
        message: "Water is life, land is life, community is life. Any sustainability framework that forgets this will fail in Africa.",
        author: "Dr. Aminata Diallo",
        location: "Water Resource Specialist, Senegal"
    }
];

const stats = [
    { number: "847", label: "Voices Shared" },
    { number: "32", label: "African Countries" },
    { number: "15", label: "Languages Represented" },
    { number: "156", label: "Traditional Wisdom Shared" }
];

const guidelines = [
    "Traditional knowledge that guides sustainable practices",
    "Ubuntu principles applied to modern business",
    "Community-based sustainability solutions",
    "Stories of environmental stewardship from your heritage",
    "Lessons from African elders about living in harmony with nature",
    "Innovative approaches that blend tradition with technology"
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
    <!-- Heritage Hero -->
    <section class="heritage-hero">
        <div class="container">
            <h1>Heritage Wall: Voices of African Sustainability</h1>
            <p>Share your thoughts on African heritage and sustainability. Help us build a digital collage of wisdom, innovation, and inspiration from across the continent.</p>
        </div>
    </section>

    <!-- Ubuntu Philosophy Section -->
    <section class="ubuntu-section">
        <div class="container">
            <h2>Ubuntu: The Foundation of African Sustainability</h2>
            <div class="ubuntu-quote">
                "I am because we are. We are because I am."
            </div>
            <p>Ubuntu teaches us that our individual well-being is interconnected with the well-being of our community and environment. This ancient African philosophy provides the foundation for modern sustainability practices that honor both people and planet.</p>
            
            <div class="ubuntu-principles">
                {ubuntuPrinciples.map((principle) => (
                    <div class="ubuntu-principle animate-on-scroll">
                        <h4>{principle.title}</h4>
                        <p>{principle.description}</p>
                    </div>
                ))}
            </div>
        </div>
    </section>

    <!-- Featured Voices -->
    <section class="featured-voices">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2>Featured Voices</h2>
                <p>Inspiring perspectives from African leaders, innovators, and communities</p>
            </div>
            
            {featuredVoices.map((voice) => (
                <div class="voice-card mock-data animate-on-scroll">
                    <div class="quote">
                        "{voice.quote}"
                    </div>
                    <div class="author">
                        <img src={voice.image} alt={voice.author} loading="lazy">
                        <div class="author-info">
                            <h5>{voice.author}</h5>
                            <p>{voice.role} • {voice.location}</p>
                        </div>
                    </div>
                </div>
            ))}
        </div>
    </section>

    <!-- Heritage Wall Messages -->
    <section class="heritage-wall">
        <div class="container">
            <div class="section-header">
                <h2 style="color: white;">Community Voices</h2>
                <p style="color: rgba(255,255,255,0.9);">Wisdom and insights shared by our community members across Africa</p>
            </div>
            
            <div class="heritage-messages" id="heritageMessages">
                {heritageMessages.map((msg) => (
                    <div class="heritage-message animate-on-scroll">
                        <p>"{msg.message}"</p>
                        <small>- {msg.author}, {msg.location}</small>
                    </div>
                ))}
            </div>
            
            <div class="message-submit">
                <h3>Add Your Voice to the Heritage Wall</h3>
                <p>Share your thoughts on how African heritage, traditional knowledge, or Ubuntu philosophy can guide modern sustainability practices.</p>
                
                <div class="form-guidelines">
                    <h4>Share Your Wisdom</h4>
                    <ul>
                        {guidelines.map((guideline) => (
                            <li>{guideline}</li>
                        ))}
                    </ul>
                </div>
                
                <form id="heritageForm">
                    <input type="text" id="heritage-name" placeholder="Your Name (Optional)" style="margin-bottom: 1rem;">
                    <input type="text" id="heritage-location" placeholder="Your Location/Country (Optional)" style="margin-bottom: 1rem;">
                    <input type="text" id="heritage-role" placeholder="Your Role/Organization (Optional)" style="margin-bottom: 1rem;">
                    <textarea id="heritage-message" placeholder="Share your wisdom on African heritage and sustainability... What traditional knowledge or cultural values do you believe can guide modern sustainable practices?" required maxlength="500"></textarea>
                    <div id="char-counter" style="font-size: 0.8rem; color: var(--text-light); text-align: right; margin-top: 0.5rem;">500 characters remaining</div>
                    <div style="margin: 1rem 0; font-size: 0.9rem; color: var(--text-light);">
                        <p>✓ Your message will be reviewed before appearing on the Heritage Wall<br>
                        ✓ We celebrate diverse perspectives while maintaining respectful dialogue<br>
                        ✓ Messages may be featured in our publications with your permission</p>
                    </div>
                    <button type="submit" class="btn btn-primary">Add to Heritage Wall</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2>Growing Community of Voices</h2>
            <div class="stats-grid mock-data">
                {stats.map((stat) => (
                    <div class="stat-item animate-on-scroll">
                        <h3>{stat.number}</h3>
                        <p>{stat.label}</p>
                    </div>
                ))}
            </div>
        </div>
    </section>
</BaseLayout>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Heritage Wall form functionality
        const heritageForm = document.getElementById('heritageForm');
        const textarea = document.getElementById('heritage-message');
        const charCounter = document.getElementById('char-counter');
        const maxLength = 500;
        
        // Character counter for textarea
        textarea.addEventListener('input', function() {
            const remaining = maxLength - this.value.length;
            charCounter.textContent = `${remaining} characters remaining`;
            
            if (remaining < 50) {
                charCounter.style.color = 'var(--deep-red)';
            } else {
                charCounter.style.color = 'var(--text-light)';
            }
        });

        heritageForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('heritage-name').value || 'Anonymous Contributor';
            const location = document.getElementById('heritage-location').value || 'Africa';
            const role = document.getElementById('heritage-role').value;
            const message = document.getElementById('heritage-message').value;
            
            if (message.trim()) {
                // Create new message element
                const messageElement = document.createElement('div');
                messageElement.className = 'heritage-message fade-in';
                messageElement.style.opacity = '0';
                messageElement.innerHTML = `
                    <p>"${message}"</p>
                    <small>- ${name}${role ? ', ' + role : ''}, ${location}</small>
                `;
                
                // Add to heritage messages at the beginning
                const messagesContainer = document.getElementById('heritageMessages');
                messagesContainer.insertBefore(messageElement, messagesContainer.firstChild);
                
                // Animate in
                setTimeout(() => {
                    messageElement.style.opacity = '1';
                    messageElement.style.transform = 'translateY(0)';
                }, 100);
                
                // Clear form
                this.reset();
                charCounter.textContent = '500 characters remaining';
                charCounter.style.color = 'var(--text-light)';
                
                // Show success message
                showSuccessMessage('Thank you for adding your voice to our Heritage Wall! Your message will be reviewed and published shortly. Your wisdom contributes to our growing collection of African sustainability insights.');
                
                // Scroll to the new message
                setTimeout(() => {
                    messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 500);
            }
        });

        // Success message function
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--sage-green);
                color: white;
                padding: 1rem 2rem;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                max-width: 400px;
                animation: slideIn 0.3s ease;
            `;
            successDiv.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <p style="margin: 0; color: white;">${message}</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 0; margin-left: 1rem;">×</button>
                </div>
            `;
            
            document.body.appendChild(successDiv);
            
            // Auto remove after 6 seconds
            setTimeout(() => {
                if (successDiv.parentElement) {
                    successDiv.remove();
                }
            }, 6000);
        }

        // Add slide-in animation for success messages
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    });
</script>